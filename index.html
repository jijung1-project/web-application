<!DOCTYPE html>
<html lang="en">
  <head>


      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width" initial-scale=1 shrink-to-fit="no">
      <meta name="description" content="">
      <meta name="author" content="">

      <title>Creative - Start Bootstrap Theme</title>

      <!-- Font Awesome Icons -->
      <link href="./vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">

      <!-- Google Fonts -->
      <link href="https://fonts.googleapis.com/css?family=Merriweather+Sans:400,700" rel="stylesheet">
      <link href='https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic' rel='stylesheet' type='text/css'>

      <!-- Plugin CSS -->
      <link href="./vendor/magnific-popup/magnific-popup.css" rel="stylesheet">

      <!-- Theme CSS - Includes Bootstrap -->
      <link href="./css/creative.min.css" rel="stylesheet">


    <script type = "text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

      <script  type = "text/javascript">

        $(function(){
          $("#upload").on("click",function(){
            //$("#result")[0].innerHTML="Loading 중입니다."
            $("#result")[0].innerHTML="<input type='image' src = 'Spinner-1s-200px.gif'>"
            let fileContent = new FormData();
            for(let i=0;i<$("input#photo")[0].files.length;i++){
              fileContent.append("photo", $("input#photo")[0].files[i]);
            }
            $.ajax({
              type: "POST",
              url: "/",
              data: fileContent,
              processData: false,
              contentType: false,
              success: function (response) {
                console.log(response);
                $("#result")[0].innerHTML="당신이 먹은 음식은?"
                $("#facts")[0].innerHTML="" +
                        "<div>"+
                        "<div class=\"table-responsive\">\n" +
                        "    <table class=\"table\">\n" +
                        "        <thead>\n" +
                        "            <tr>\n" +
                        "                <th></th>\n" +
                        "                <th>Firstname</th>\n" +
                        "                <th>Lastname</th>\n" +
                        "                <th>Age</th>\n" +
                        "                <th>City</th>\n" +
                        "                <th>Country</th>\n" +
                        "            </tr>\n" +
                        "        </thead>\n" +
                        "        <tbody>\n" +
                        "            <tr>\n" +
                        "                <td>1</td>\n" +
                        "                <td>Anna</td>\n" +
                        "                <td>Pitt</td>\n" +
                        "                <td>35</td>\n" +
                        "                <td>New York</td>\n" +
                        "                <td>USA</td>\n" +
                        "            </tr>\n" +
                        "        </tbody>\n" +
                        "    </table>\n" +
                        "</div>" +
                        "    <table class=\"table\">\n" +
                        "        <thead>\n" +
                        "            <tr>\n" +
                        "                <th></th>\n" +
                        "                <th>Firstname</th>\n" +
                        "                <th>Lastname</th>\n" +
                        "                <th>Age</th>\n" +
                        "                <th>City</th>\n" +
                        "                <th>Country</th>\n" +
                        "            </tr>\n" +
                        "        </thead>\n" +
                        "        <tbody>\n" +
                        "            <tr>\n" +
                        "                <td>1</td>\n" +
                        "                <td>Anna</td>\n" +
                        "                <td>Pitt</td>\n" +
                        "                <td>35</td>\n" +
                        "                <td>New York</td>\n" +
                        "                <td>USA</td>\n" +
                        "            </tr>\n" +
                        "        </tbody>\n" +
                        "    </table>\n" +
                        "</div>" +
                        "</div>"



                        response[0].name + response[0].calorie;

              },
              error: function (response) {
                console.error(response);
              }
            });


          })
        })

      </script>

  </head>

  <body id="page-top">

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top py-3" id="mainNav">
      <div class="container">
        <a class="navbar-brand js-scroll-trigger" href="#page-top">What is your meal?</a>
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto my-2 my-lg-0">
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#page-top"></a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#services">Nutritional Facts/Calories</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#portfolio">Exercise</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#contact">Contact</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Masthead -->
    <header class="masthead">

      <div class="container h-100">
        <div class="row h-100 align-items-center justify-content-center text-center">
          <div class="col-lg-10 align-self-end">
            <h1 class="text-uppercase text-white font-weight-bold">당신이 먹은 음식 사진을 올려주세요</h1>
            <hr class="divider my-4">
          </div>
          <div class="col-lg-8 align-self-baseline">
            <p class="text-white-75 font-weight-light mb-5">인공지능으로 당신이 올린 음식사진 속 음식을 예측합니다.</p>
            <form method="post" action="/" id="uploadImage" class="uploadImage" enctype="multipart/form-data"  >
              <div>
                <div class = "dropzone" id="photo" name="photo" type="file"> Drophere</div>
                <input type="file"  name="photo" multiple>
                <a class="btn btn-primary btn-xl js-scroll-trigger" id="upload" href="#calorie">예측 시작</a>
              </div>
            </form>
          </div>
        </div>
      </div>
    </header>
    <style>

    .dropzone{
      width : 300px;
      height : 300px;
      border : 2px dashed #ccc;
      color : #ccc;
      line-height : 300px;
      text-align : center;
    }
    .dropzone.dragover{
      border-color : #000;
      color : #000;

    }

    </style>

    <script>
      (function(){
        var dropzone = document.getElementById('photo');
        dropzone.ondragover = function(){
          this.className = 'dropzone dragover';
          return false;
        };
        dropzone.ondragleave = function(){
          this.className = 'dropzone';
          return false;
        };
        dropzone.ondrop = function(e){
          e.preventDefault();
          this.className = 'dropzone';
          console.log(e.dataTransfer.files);

        };
      }());
    </script>
    <!-- Calorie Section -->
    <section class="page-section bg-primary" id="calorie">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-lg-8 text-center">
            <div id="result">예측결과</div>
            <hr class="divider light my-4">
            <p id="facts" class="text-white-50 mb-4"></p>
            <a class="btn btn-light btn-xl js-scroll-trigger" href="#services">운동 추천 받기</a>
          </div>
        </div>
      </div>
    </section>

    <!-- Services Section -->
    <section class="page-section" id="services">
      <div class="container">
        <h2 class="text-center mt-0">At Your Service</h2>
        <hr class="divider my-4">
        <div class="row">
          <div class="col-lg-3 col-md-6 text-center">
            <div class="mt-5">
              <i class="fas fa-4x fa-gem text-primary mb-4"></i>
              <h3 class="h4 mb-2">Sturdy Themes</h3>
              <p class="text-muted mb-0">Our themes are updated regularly to keep them bug free!</p>
            </div>
          </div>
          <div class="col-lg-3 col-md-6 text-center">
            <div class="mt-5">
              <i class="fas fa-4x fa-laptop-code text-primary mb-4"></i>
              <h3 class="h4 mb-2">Up to Date</h3>
              <p class="text-muted mb-0">All dependencies are kept current to keep things fresh.</p>
            </div>
          </div>
          <div class="col-lg-3 col-md-6 text-center">
            <div class="mt-5">
              <i class="fas fa-4x fa-globe text-primary mb-4"></i>
              <h3 class="h4 mb-2">Ready to Publish</h3>
              <p class="text-muted mb-0">You can use this design as is, or you can make changes!</p>
            </div>
          </div>
          <div class="col-lg-3 col-md-6 text-center">
            <div class="mt-5">
              <i class="fas fa-4x fa-heart text-primary mb-4"></i>
              <h3 class="h4 mb-2">Made with Love</h3>
              <p class="text-muted mb-0">Is it really open source if it's not made with love?</p>
            </div>
          </div>
        </div>
      </div>
    </section>




    <!-- Contact Section -->
    <section class="page-section bg-dark text-white" id="contact">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-lg-8 text-center">
            <h2 class="mt-0">Let's Get In Touch!</h2>
            <hr class="divider my-4">
            <p class="text-muted mb-5">Ready to start your next project with us? Give us a call or send us an email and we will get back to you as soon as possible!</p>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-4 ml-auto text-center mb-5 mb-lg-0">
            <i class="fas fa-phone fa-3x mb-3 text-muted"></i>
            <div>+1 (202) 555-0149</div>
          </div>
          <div class="col-lg-4 mr-auto text-center">
            <i class="fas fa-envelope fa-3x mb-3 text-muted"></i>
            <!-- Make sure to change the email address in anchor text AND the link below! -->
            <a class="d-block" href="mailto:contact@yourwebsite.com">contact@yourwebsite.com</a>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="bg-light py-5">
      <div class="container">
        <div class="small text-center text-muted">Copyright &copy; 2019 - Start Bootstrap</div>
      </div>
    </footer>

    <!-- Bootstrap core JavaScript -->
    <script src="./vendor/jquery/jquery.min.js"></script>
    <script src="./vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="./vendor/jquery-easing/jquery.easing.min.js"></script>
    <script src="./vendor/magnific-popup/jquery.magnific-popup.min.js"></script>

    <!-- Custom scripts for this template -->
    <script src="./js/creative.min.js"></script>



  </body>

</html>
